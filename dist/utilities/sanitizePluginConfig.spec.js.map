{"version":3,"sources":["../../src/utilities/sanitizePluginConfig.spec.ts"],"sourcesContent":["import type { EcommercePluginConfig } from '../types/index.js'\n\nimport { EUR, USD } from '../currencies/index.js'\nimport { sanitizePluginConfig } from './sanitizePluginConfig'\n\ndescribe('sanitizePluginConfig', () => {\n  const mockAccessConfig = {\n    adminOnlyFieldAccess: jest.fn(),\n    adminOrPublishedStatus: jest.fn(),\n    customerOnlyFieldAccess: jest.fn(),\n    isAdmin: jest.fn(),\n    isAuthenticated: jest.fn(),\n    isDocumentOwner: jest.fn(),\n  }\n\n  const minimalConfig: EcommercePluginConfig = {\n    access: mockAccessConfig,\n    customers: {\n      slug: 'users',\n    },\n  }\n\n  describe('customers', () => {\n    it('should default customers slug to \"users\" when undefined', () => {\n      const config: EcommercePluginConfig = {\n        access: mockAccessConfig,\n        customers: undefined as any,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.customers).toEqual({\n        slug: 'users',\n      })\n    })\n\n    it('should preserve custom customers slug', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        customers: {\n          slug: 'custom-users',\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.customers.slug).toBe('custom-users')\n    })\n  })\n\n  describe('addresses', () => {\n    it('should create default addresses config when undefined', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.addresses).toBeDefined()\n      expect(result.addresses.addressFields).toBeDefined()\n      expect(Array.isArray(result.addresses.addressFields)).toBe(true)\n      expect(result.addresses.addressFields.length).toBeGreaterThan(0)\n    })\n\n    it('should create default addresses config when set to true', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        addresses: true,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.addresses).toBeDefined()\n      expect(result.addresses.addressFields).toBeDefined()\n      expect(Array.isArray(result.addresses.addressFields)).toBe(true)\n    })\n\n    it('should use custom addressFields function', () => {\n      const customField = {\n        name: 'customField',\n        type: 'text' as const,\n      }\n\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        addresses: {\n          addressFields: ({ defaultFields }) => [...defaultFields, customField],\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.addresses.addressFields).toBeDefined()\n      const lastField = result.addresses.addressFields[result.addresses.addressFields.length - 1]\n      expect(lastField).toEqual(customField)\n    })\n\n    it('should preserve other address config properties', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        addresses: {\n          addressFields: ({ defaultFields }) => defaultFields,\n          supportedCountries: [\n            { label: 'United States', value: 'US' },\n            { label: 'Canada', value: 'CA' },\n          ],\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.addresses.supportedCountries).toEqual([\n        { label: 'United States', value: 'US' },\n        { label: 'Canada', value: 'CA' },\n      ])\n    })\n  })\n\n  describe('currencies', () => {\n    it('should default to USD when undefined', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.currencies).toEqual({\n        defaultCurrency: 'USD',\n        supportedCurrencies: [USD],\n      })\n    })\n\n    it('should preserve custom currencies config', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        currencies: {\n          defaultCurrency: 'EUR',\n          supportedCurrencies: [USD, EUR],\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.currencies).toEqual({\n        defaultCurrency: 'EUR',\n        supportedCurrencies: [USD, EUR],\n      })\n    })\n  })\n\n  describe('inventory', () => {\n    it('should default inventory config when undefined', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.inventory).toEqual({\n        fieldName: 'inventory',\n      })\n    })\n\n    it('should default inventory config when set to true', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        inventory: true,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.inventory).toEqual({\n        fieldName: 'inventory',\n      })\n    })\n\n    it('should preserve custom inventory config', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        inventory: {\n          fieldName: 'stock',\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.inventory).toEqual({\n        fieldName: 'stock',\n      })\n    })\n\n    it('should allow disabling inventory with false', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        inventory: false,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.inventory).toBe(false)\n    })\n  })\n\n  describe('carts', () => {\n    it('should default carts to object with allowGuestCarts true when undefined', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.carts).toEqual({\n        allowGuestCarts: true,\n      })\n    })\n\n    it('should convert carts true to object with allowGuestCarts true', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        carts: true,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.carts).toEqual({\n        allowGuestCarts: true,\n      })\n    })\n\n    it('should preserve carts false', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        carts: false,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.carts).toBe(false)\n    })\n\n    it('should default allowGuestCarts to true when carts is object without it', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        carts: {} as any,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.carts).toEqual({\n        allowGuestCarts: true,\n      })\n    })\n\n    it('should preserve explicit allowGuestCarts false', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        carts: {\n          allowGuestCarts: false,\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.carts).toEqual({\n        allowGuestCarts: false,\n      })\n    })\n\n    it('should preserve other carts config properties', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        carts: {\n          allowGuestCarts: false,\n          cartsCollectionOverride: jest.fn() as any,\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.carts).toHaveProperty('allowGuestCarts', false)\n      expect(result.carts).toHaveProperty('cartsCollectionOverride')\n    })\n  })\n\n  describe('orders', () => {\n    it('should default orders to true when undefined', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.orders).toBe(true)\n    })\n\n    it('should preserve orders config', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        orders: false,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.orders).toBe(false)\n    })\n  })\n\n  describe('transactions', () => {\n    it('should default transactions to true when undefined', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.transactions).toBe(true)\n    })\n\n    it('should preserve transactions config', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        transactions: false,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.transactions).toBe(false)\n    })\n  })\n\n  describe('payments', () => {\n    it('should default payments to empty array when undefined', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.payments).toEqual({\n        paymentMethods: [],\n      })\n    })\n\n    it('should default paymentMethods to empty array when not provided', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        payments: {} as any,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.payments.paymentMethods).toEqual([])\n    })\n\n    it('should preserve payment methods', () => {\n      const mockAdapter = {\n        name: 'stripe',\n        label: 'Stripe',\n      } as any\n\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        payments: {\n          paymentMethods: [mockAdapter],\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.payments.paymentMethods).toEqual([mockAdapter])\n    })\n  })\n\n  describe('products', () => {\n    it('should default variants to true when products is object and variants is undefined', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        products: {},\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.products).toEqual({\n        variants: true,\n      })\n    })\n\n    it('should preserve variants config when provided', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        products: {\n          variants: false,\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.products).toEqual({\n        variants: false,\n      })\n    })\n\n    it('should not modify products when set to true', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        products: true,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.products).toBe(true)\n    })\n\n    it('should not modify products when set to false', () => {\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        products: false,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.products).toBe(false)\n    })\n  })\n\n  describe('access', () => {\n    it('should provide default isAuthenticated function', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.access.isAuthenticated).toBeDefined()\n      expect(typeof result.access.isAuthenticated).toBe('function')\n    })\n\n    it('should provide default publicAccess function', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.access.publicAccess).toBeDefined()\n      expect(typeof result.access.publicAccess).toBe('function')\n    })\n\n    it('should allow user-provided access functions to override defaults', () => {\n      const customIsAuthenticated = jest.fn()\n      const customPublicAccess = jest.fn()\n\n      const config: EcommercePluginConfig = {\n        ...minimalConfig,\n        access: {\n          ...mockAccessConfig,\n          isAuthenticated: customIsAuthenticated,\n          publicAccess: customPublicAccess,\n        },\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: config })\n\n      expect(result.access.isAuthenticated).toBe(customIsAuthenticated)\n      expect(result.access.publicAccess).toBe(customPublicAccess)\n    })\n\n    it('should preserve all user-provided access functions', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.access.adminOnlyFieldAccess).toBe(mockAccessConfig.adminOnlyFieldAccess)\n      expect(result.access.adminOrPublishedStatus).toBe(mockAccessConfig.adminOrPublishedStatus)\n      expect(result.access.customerOnlyFieldAccess).toBe(mockAccessConfig.customerOnlyFieldAccess)\n      expect(result.access.isAdmin).toBe(mockAccessConfig.isAdmin)\n      expect(result.access.isDocumentOwner).toBe(mockAccessConfig.isDocumentOwner)\n    })\n\n    it('default publicAccess should always return true', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      // @ts-expect-error - ignoring for test\n      expect(result.access.publicAccess()).toBe(true)\n    })\n\n    it('default isAuthenticated should be provided', () => {\n      const result = sanitizePluginConfig({ pluginConfig: minimalConfig })\n\n      expect(result.access.isAuthenticated).toBeDefined()\n      expect(typeof result.access.isAuthenticated).toBe('function')\n    })\n  })\n\n  describe('complete config', () => {\n    it('should handle a fully configured plugin', () => {\n      const fullConfig: EcommercePluginConfig = {\n        access: mockAccessConfig,\n        addresses: {\n          addressFields: ({ defaultFields }) => defaultFields,\n          supportedCountries: [{ label: 'US', value: 'US' }],\n        },\n        carts: {\n          allowGuestCarts: true,\n        },\n        currencies: {\n          defaultCurrency: 'EUR',\n          supportedCurrencies: [USD, EUR],\n        },\n        customers: {\n          slug: 'customers',\n        },\n        inventory: {\n          fieldName: 'stock',\n        },\n        orders: true,\n        payments: {\n          paymentMethods: [],\n        },\n        products: {\n          variants: true,\n        },\n        slugMap: {\n          products: 'items',\n        },\n        transactions: true,\n      }\n\n      const result = sanitizePluginConfig({ pluginConfig: fullConfig })\n\n      expect(result.customers.slug).toBe('customers')\n      expect(result.currencies.defaultCurrency).toBe('EUR')\n      expect(result.inventory).toEqual({ fieldName: 'stock' })\n      expect(result.carts).toHaveProperty('allowGuestCarts', true)\n      expect(result.orders).toBe(true)\n      expect(result.transactions).toBe(true)\n      expect(result.products).toEqual({ variants: true })\n      expect(result.slugMap).toEqual({ products: 'items' })\n    })\n  })\n})\n"],"names":["EUR","USD","sanitizePluginConfig","describe","mockAccessConfig","adminOnlyFieldAccess","jest","fn","adminOrPublishedStatus","customerOnlyFieldAccess","isAdmin","isAuthenticated","isDocumentOwner","minimalConfig","access","customers","slug","it","config","undefined","result","pluginConfig","expect","toEqual","toBe","addresses","toBeDefined","addressFields","Array","isArray","length","toBeGreaterThan","customField","name","type","defaultFields","lastField","supportedCountries","label","value","currencies","defaultCurrency","supportedCurrencies","inventory","fieldName","carts","allowGuestCarts","cartsCollectionOverride","toHaveProperty","orders","transactions","payments","paymentMethods","mockAdapter","products","variants","publicAccess","customIsAuthenticated","customPublicAccess","fullConfig","slugMap"],"mappings":"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"}