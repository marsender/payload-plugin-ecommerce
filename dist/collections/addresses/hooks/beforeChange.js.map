{"version":3,"sources":["../../../../src/collections/addresses/hooks/beforeChange.ts"],"sourcesContent":["import type { CollectionBeforeChangeHook } from 'payload'\n\nexport const beforeChange: CollectionBeforeChangeHook = async ({ data, req }) => {\n  // Automatically set the customer field to the current user if not already provided.\n  // Admins can override by explicitly providing a customer ID in the request.\n  if (req.user && !data.customer) {\n    data.customer = req.user.id\n  }\n}\n"],"names":["beforeChange","data","req","user","customer","id"],"mappings":"AAEA,OAAO,MAAMA,eAA2C,OAAO,EAAEC,IAAI,EAAEC,GAAG,EAAE;IAC1E,oFAAoF;IACpF,4EAA4E;IAC5E,IAAIA,IAAIC,IAAI,IAAI,CAACF,KAAKG,QAAQ,EAAE;QAC9BH,KAAKG,QAAQ,GAAGF,IAAIC,IAAI,CAACE,EAAE;IAC7B;AACF,EAAC"}